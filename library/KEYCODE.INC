; -*- text -*-
;
; Keycode translator
;
; THIS FILE WILL INCLUDE BY OTHER FILE
;

; give a keycode, get a key value only for some keys
@getKeyFromKeyCode
@getKeyFromKeyCode_I
 LDY #1
 LDA (@HEAP_PTR),Y

 TAX
 LDY ?keycode_to_ascii,x
 LDX #0
 RTS

; Tabelle wurde mit dieser Routine erstellt und alle Tasten wurden (hoffentlich) gedrueckt
;
;DIM KEYLIST(256)
;DO
;  LAST=255
;  WHILE LAST=255
;    LAST=PEEK(764)
;  WEND
;  ? LAST,:GET KEY:? KEY,CHR$(KEY)
;  KEYLIST(LAST)=KEY
;LOOP
;OPEN #1,8,0,"D:KEYS.TXT"
;FOR I=0 TO 255 STEP 16
;  FOR J=I TO I+15
;    ? #1;KEYLIST(J);",";
;  NEXT J
;  ? #1
;NEXT I
;CLOSE #1

; peek(764) -> ascii key
?keycode_to_ascii
 .byte 76,74,59,0,0,75,43,42,79,0,80,85,155,73,45,61
 .byte 86,0,67,0,0,66,88,90,52,0,51,54,27,53,50,49
 .byte 44,32,46,78,0,77,47,255,82,0,69,89,127,84,87,81
 .byte 57,0,48,55,126,56,60,62,70,72,68,0,0,71,83,65
 .byte 0,0,58,0,0,0,92,94,0,0,0,0,155,0,95,124
 .byte 0,0,0,0,0,0,0,0,36,0,35,38,0,37,34,33
 .byte 91,0,93,0,0,0,63,0,0,0,0,0,159,0,0,0
 .byte 40,0,41,39,156,64,125,157,0,0,0,0,0,0,0,0
 .byte 12,10,123,0,0,11,30,31,15,0,16,21,155,9,28,29
 .byte 22,0,3,0,0,2,24,26,0,0,0,0,0,0,0,0
 .byte 0,0,96,14,0,13,30,0,18,0,5,25,158,20,23,17
 .byte 0,0,0,0,254,0,125,255,6,8,4,0,0,7,19,1
 .byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,155
 .byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 .byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 .byte 0,0,0,0,254,0,0,255,0,0,0,0,0,0,0,0

;  .byte 108,106,59,0,0,107,43,42,111,0,112,117,155,105,45,61
;  .byte 118,0,99,0,0,98,120,122,52,0,51,54,27,53,50,49
;  .byte 44,32,46,110,0,109,47,0,114,0,101,121,0,116,119,113
;  .byte 57,0,48,55,126,56,0,0,102,104,100,0,97,103,115,97
;  .byte 76,74,58,0,0,75,92,94,79,0,80,85,155,73,95,0
;  .byte 86,0,67,0,0,66,88,90,36,0,35,38,0,37,34,33
;  .byte 91,0,93,78,0,77,0,125,82,0,69,89,0,84,87,81
;  .byte 40,0,41,39,156,0,125,157,70,72,68,0,0,71,83,65
;  .byte 12,10,123,0,0,11,30,31,15,0,16,21,155,9,28,29
;  .byte 22,0,3,0,0,2,24,26,0,0,0,0,27,0,0,0
;  .byte 0,0,96,14,0,13,30,0,18,0,5,25,0,20,23,17
;  .byte 0,0,0,0,254,0,0,255,6,8,4,0,0,7,19,1
;  .byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29
;  .byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
;  .byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
;  .byte 0,0,0,0,254,0,0,157,0,0,0,0,0,0,0,0
;
;
